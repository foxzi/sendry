# Caddyfile for Sendry Web
# Generated by Ansible - DO NOT EDIT MANUALLY
{% if sendry_caddy_extra_global %}

{{ sendry_caddy_extra_global }}
{% endif %}
{% if sendry_caddy_email %}

{
    email {{ sendry_caddy_email }}
}
{% endif %}

{{ sendry_caddy_domain }} {
    reverse_proxy {{ sendry_web_listen }}

    encode gzip

    header {
        # Security headers
        X-Content-Type-Options nosniff
        X-Frame-Options DENY
        Referrer-Policy strict-origin-when-cross-origin
        -Server
    }

    log {
        output file /var/log/caddy/sendry-web.log
        format json
    }
{% if sendry_caddy_extra_site %}

    {{ sendry_caddy_extra_site | indent(4) }}
{% endif %}
}

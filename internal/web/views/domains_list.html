{{define "content"}}
<div class="page-header">
    <h1>{{.ServerName}} - Domains</h1>
    <div class="header-actions">
        <a href="/servers/{{.ServerName}}/domains/new" class="btn btn-primary">Add Domain</a>
        <a href="/servers/{{.ServerName}}" class="btn btn-secondary">Back to Server</a>
    </div>
</div>

<div class="card">
    <div class="card-body">
        {{if .Domains}}
        <table class="table">
            <thead>
                <tr>
                    <th>Domain</th>
                    <th>Mode</th>
                    <th>DKIM</th>
                    <th>Rate Limit</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {{range .Domains}}
                <tr>
                    <td>
                        <a href="/servers/{{$.ServerName}}/domains/{{.Domain}}">{{.Domain}}</a>
                    </td>
                    <td>
                        <span class="badge badge-{{if eq .Mode "production"}}running{{else if eq .Mode "sandbox"}}draft{{else if eq .Mode "redirect"}}warning{{else}}info{{end}}">
                            {{if .Mode}}{{.Mode}}{{else}}production{{end}}
                        </span>
                    </td>
                    <td>
                        {{if and .DKIM .DKIM.Enabled}}
                        <span class="badge badge-running">{{.DKIM.Selector}}</span>
                        {{else}}
                        <span class="badge badge-draft">Disabled</span>
                        {{end}}
                    </td>
                    <td>
                        {{if .RateLimit}}
                        {{.RateLimit.MessagesPerHour}}/h, {{.RateLimit.MessagesPerDay}}/d
                        {{else}}
                        <span class="text-muted">Default</span>
                        {{end}}
                    </td>
                    <td>
                        <a href="/servers/{{$.ServerName}}/domains/{{.Domain}}/edit" class="btn btn-sm btn-secondary">Edit</a>
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
        {{else}}
        <div class="empty-state">
            <p>No domains configured</p>
            <a href="/servers/{{.ServerName}}/domains/new" class="btn btn-primary">Add First Domain</a>
        </div>
        {{end}}
    </div>
</div>
{{end}}

{{define "content"}}
<div class="page-header">
    <h1>Domains</h1>
    <div class="header-actions">
        <a href="/domains/new" class="btn btn-primary">New Domain</a>
    </div>
</div>

<div class="card">
    <div class="card-body">
        {{if .Domains}}
        <table class="table">
            <thead>
                <tr>
                    <th>Domain</th>
                    <th>Mode</th>
                    <th>DKIM</th>
                    <th>Deployments</th>
                    <th>Created</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {{range .Domains}}
                <tr>
                    <td>{{.Domain}}</td>
                    <td>
                        <span class="badge badge-{{if eq .Mode "production"}}running{{else if eq .Mode "sandbox"}}draft{{else if eq .Mode "redirect"}}warning{{else}}info{{end}}">
                            {{if .Mode}}{{.Mode}}{{else}}production{{end}}
                        </span>
                    </td>
                    <td>
                        {{if .DKIMEnabled}}
                        <span class="badge badge-running">{{.DKIMSelector}}</span>
                        {{else}}
                        <span class="badge badge-draft">Disabled</span>
                        {{end}}
                    </td>
                    <td>
                        {{if .DeploymentCount}}
                        <span class="badge badge-running">{{.DeploymentCount}} server(s)</span>
                        {{if .OutdatedCount}}
                        <span class="badge badge-warning">{{.OutdatedCount}} outdated</span>
                        {{end}}
                        {{else}}
                        <span class="badge badge-draft">Not deployed</span>
                        {{end}}
                    </td>
                    <td>{{.CreatedAt.Format "2006-01-02"}}</td>
                    <td>
                        <a href="/domains/{{.ID}}" class="btn btn-sm btn-secondary">View</a>
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
        {{else}}
        <div class="empty-state">
            <p>No domains configured</p>
            <p class="text-muted">Create a domain configuration to manage email sending</p>
            <a href="/domains/new" class="btn btn-primary">Create Domain</a>
        </div>
        {{end}}
    </div>
</div>
{{end}}

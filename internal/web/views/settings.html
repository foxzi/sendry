{{define "content"}}
<div class="page-header">
    <h1 data-i18n="settings">Settings</h1>
</div>

<div class="card" style="margin-bottom: 1.5rem;">
    <div class="card-header">
        <h2 data-i18n="display_preferences">Display Preferences</h2>
    </div>
    <div class="card-body">
        <div class="form-group">
            <label for="timezone-select" data-i18n="timezone">Timezone</label>
            <select id="timezone-select" class="form-control">
                <option value="UTC">UTC</option>
                <option value="Europe/Moscow">Europe/Moscow (MSK)</option>
                <option value="Europe/London">Europe/London (GMT/BST)</option>
                <option value="Europe/Paris">Europe/Paris (CET/CEST)</option>
                <option value="Europe/Berlin">Europe/Berlin (CET/CEST)</option>
                <option value="America/New_York">America/New_York (EST/EDT)</option>
                <option value="America/Chicago">America/Chicago (CST/CDT)</option>
                <option value="America/Denver">America/Denver (MST/MDT)</option>
                <option value="America/Los_Angeles">America/Los_Angeles (PST/PDT)</option>
                <option value="Asia/Tokyo">Asia/Tokyo (JST)</option>
                <option value="Asia/Shanghai">Asia/Shanghai (CST)</option>
                <option value="Asia/Singapore">Asia/Singapore (SGT)</option>
                <option value="Australia/Sydney">Australia/Sydney (AEST/AEDT)</option>
            </select>
            <small class="form-help" data-i18n="timezone_help">All dates will be displayed in selected timezone</small>
        </div>
    </div>
</div>

<div class="card" style="margin-bottom: 1.5rem;">
    <div class="card-header">
        <h2 data-i18n="infrastructure">Infrastructure</h2>
    </div>
    <div class="card-body">
        <div class="settings-grid">
            <a href="/servers" class="settings-card">
                <h3 data-i18n="servers">Servers</h3>
                <p data-i18n="servers_desc">Manage Sendry MTA servers, queues and sandbox</p>
            </a>

            <a href="/domains" class="settings-card">
                <h3 data-i18n="domains">Domains</h3>
                <p data-i18n="domains_desc">Configure sending domains with DKIM, rate limits and modes</p>
            </a>

            <a href="/dkim" class="settings-card">
                <h3 data-i18n="dkim_keys">DKIM Keys</h3>
                <p data-i18n="dkim_keys_desc">Generate and deploy DKIM signing keys to servers</p>
            </a>
        </div>
    </div>
</div>

<div class="card" style="margin-bottom: 1.5rem;">
    <div class="card-header">
        <h2 data-i18n="system">System</h2>
    </div>
    <div class="card-body">
        <div class="settings-grid">
            <a href="/settings/variables" class="settings-card">
                <h3 data-i18n="global_variables">Global Variables</h3>
                <p data-i18n="global_variables_desc">Manage template variables available across all campaigns</p>
            </a>

            <a href="/settings/users" class="settings-card">
                <h3 data-i18n="users">Users</h3>
                <p data-i18n="users_desc">Manage user accounts and permissions</p>
            </a>

            <a href="/settings/audit" class="settings-card">
                <h3 data-i18n="audit_log">Audit Log</h3>
                <p data-i18n="audit_log_desc">View activity history and changes</p>
            </a>
        </div>
    </div>
</div>

<script>
(function() {
    var select = document.getElementById('timezone-select');
    if (!select) return;

    // Set current value
    var currentTz = localStorage.getItem('timezone') || Intl.DateTimeFormat().resolvedOptions().timeZone;
    select.value = currentTz;

    // If current timezone not in list, add it
    if (select.value !== currentTz) {
        var opt = document.createElement('option');
        opt.value = currentTz;
        opt.textContent = currentTz;
        select.insertBefore(opt, select.firstChild);
        select.value = currentTz;
    }

    select.addEventListener('change', function() {
        Timezone.set(this.value);
    });
})();
</script>
{{end}}

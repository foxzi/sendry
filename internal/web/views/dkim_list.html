{{define "content"}}
<div class="page-header">
    <h1>DKIM Keys</h1>
    <div class="header-actions">
        <a href="/settings" class="btn btn-secondary">Back to Settings</a>
        <a href="/settings/dkim/new" class="btn btn-primary">New DKIM Key</a>
    </div>
</div>

<div class="card">
    <div class="card-body">
        {{if .Keys}}
        <table class="table">
            <thead>
                <tr>
                    <th>Domain</th>
                    <th>Selector</th>
                    <th>DNS Name</th>
                    <th>Deployments</th>
                    <th>Created</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {{range .Keys}}
                <tr>
                    <td>{{.Domain}}</td>
                    <td>{{.Selector}}</td>
                    <td><code>{{.DNSName}}</code></td>
                    <td>
                        {{if gt .DeploymentCount 0}}
                        <span class="badge badge-running">{{.DeploymentCount}} servers</span>
                        {{else}}
                        <span class="badge badge-draft">Not deployed</span>
                        {{end}}
                    </td>
                    <td>{{.CreatedAt.Format "2006-01-02"}}</td>
                    <td>
                        <a href="/settings/dkim/{{.ID}}" class="btn btn-sm btn-secondary">View</a>
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
        {{else}}
        <div class="empty-state">
            <p>No DKIM keys configured</p>
            <p class="text-muted">Create a DKIM key to enable email signing</p>
            <a href="/settings/dkim/new" class="btn btn-primary">Create DKIM Key</a>
        </div>
        {{end}}
    </div>
</div>
{{end}}
